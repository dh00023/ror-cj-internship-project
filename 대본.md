#### 언급해야하는 것

1. 주제를 선정한 목적
2. 어떤서비스에 제안을 주는지 (추천서비스로 나중에 확장할 수 있다. + 개인정보,날씨정보,공휴일,계절정보에 따른 추천상품) -> 시연 끝나고 정리해서 말하기
3. 지금은 왜 추천상품 코드가 한개인지 : 상품상세 api에서 여러개를 보여줄 수 있는 걸 제공안하기때문에 시연용으로 하나를 넣어뒀다. 모델 구성은 1:N으로 했다.
4. 익숙한 환경으로 시작(ruby on rails)해서 익숙하지 않은 것을 다룸(backbone)
5. 날씨api는 실제로 위도, 경도에 따른 날씨 정보를 반환하는데 시연용으로 admin페이지에서 임의의 위치의 위도 경도를 설정 할 수 있도록 설정했다.
6. DB 이렇게 설계한 이유
7. 시연중에서도 어떠한 open source, open api사용해서 했는지도 다시한번 언급해주기
8. backbone을 사용한 이유 : 실제로 사용하고 있고, 익숙하지 않은 환경을 다뤄보고 싶었다. 
- 이후에 handlebars를 이용해서 view를 설정하고 싶다.


안녕하세요. IT서비스개발1팀 인턴 정다혜입니다.

CJmall 홈배너 쉽게 관리하고 합격 **가즈아**! (이거를 잘 읽어야해)
발표 시작하겠습니다.

[목차]
발표는 주제, 개발과정, 시연, Q&A순서로 진행하겠습니다.

[주제]
CJmall에서 실제로 개선할 수 있는 점을 고민해보다가 하드코딩되어있는 CJmall 홈배너를 Admin페이지에서 간편하게 관리할 수 있으면 좋겠다고 생각되어서 이 주제를 선정하게 되었습니다.

[WBS]
처음 목표한 프로젝트 추가적으로 날씨 api를 통해서 홈에 위도,경도에 따른 날씨를 실시간으로 표시하는 것과 실제 CJmall 상품상세 api를 이용하여 상품code에 따른 상품상세정보를 불러와 현재 배너와 관련된 추천상품이 뜨도록 만들었습니다.

[ 개발환경 ]
사실상 프로젝트를 진행할 수 있는 기간이 길지않았습니다. 그래서 개발환경 세팅에 있어서 간편하고, 짧은 기간내에 좋은 결과물을 내기위해서 익숙한 환경인 ruby on rails 프레임워크를 이용해서 프로젝트를 수행했습니다.

마지막으로 수행한 추천상품은 실제로 CJmall에서 사용하고 있는 Backbone.js 프레임워크를 이용해보았습ㄴㅣ다. backbone은 익숙하지는 않지만 실제로 회사에서 사용하고 있는 프레임워크를 경험해보고 싶어서 backbone을 이용해서 진행했습니다.

[api]
공휴일 정보를 위한 holidays api, 날씨 정보를 가져오기 위해서 openweathermap api 두가지의 open api와 추천상품 정보를 위해서 CJmall상품상세 api를 사용했습니다.

[모델관계]
다음은 간략한 모델관계입니다. admin권한을 주기위해서 attributes(속성)을 줘도 되지만, 다른 권한도 나중에 추가할 수 있도록 User모델과 N:M관계인 Role model을 따로 생성했습니다.

Admin페이지에서 카테고리별 우선순위를 설정하면 우선순위가 높은 카테고리의 배너가 뜨도록 설정했습니다. 카테고리와 배너는 1:N관계로 구성되어있습니다.

마지막으로 날씨정보를 불러오기 위한 위치, 위도, 경도 정보를 가지고 있는 weather model이 있습니다.


[View]
view는 root페이지 카테고리, weather, banner, recommend와 각각 연관된 페이지가 구성되어있습니다.

여기서는 간단하게 설명하고 시연에서 같이 보여드리도록 하겠습니다.


[주기능-홈배너]

3가지 주요 기능이 있습니다. 첫번째는 홈배너입니다.
우선순위에 따라서 카테고리와 관련된 홈 배너가 뜨게됩니다. 기본적으로 한국 공휴일에 대한 정보를 데이터베이스에 이름, 사진을 저장해두고, controller에서 오늘이 공휴일인지 확인 후 맞다면 공휴일과 관련된 배너, 아니라면 우선순위가 2번째인 계절카테고리가 뜨게 됩니다. 이때 공휴일에 관한 정보는 holidays api를 이용해서 불러왔습니다.

[주기능-날씨]
날씨api는 실제 위도, 경도에 따른 날씨 정보를 반환하는데 시연용으로  임의의 위치의 위도 경도를 weather DB에 저장한 후 admin페이지에서 설정 할 수 있도록 설정했습니다.

[주기능 - 추천상품]
마지막으로 추천상품 입니다. Recommends모델에 배너와 관련된 추천상품 코드를 입력할 수 있게 해두었습니다. CJmall 상품상세 api 추천상품 모델에 저장된 코드를 통해서 관련된 상품상세 정보를 불러옵니다. 

이때 필요한 정보인 이미지path, 상품명, 상품가격 정보를 backbone모델에 저장을 하고 그정보를 이용해서 뷰에서 호출을 합니다. 배너에 저장된 추천상품의 코드에 따른 상품을 불러오는 것을 확인 할 수 있습니다. 추천상품도 여러개를 생성할 수 있지만, 현재 상품상세 api에서 n개에 대해 제공하는 api가 없어서 시연용으로 하나만 넣어뒀습니다. 하지만 모델 구성은 1:N으로 했다.

[시연]
이제 시연을 하도록 하겠습니다.
로그인, 회원가입
로그인시 관리자페이지 보이는지 안보이는지(권한에따라서)=>관리자 권한주는건 콘솔창에서해야함
url로도 접근이 불가능한것 보여주기
카테고리 우선순위 자동수정
카테고리 생성
holiday배너로 예를 보여주기 holiday카테고리와 관련된 배너에서 holidays api를 사용했습니다.
배너생성
하나삭제하면 하위도 다 삭제
날짜 바꿔서 배너바뀌는 것보여주기
우선순위에 따라서 바뀌는 거 보여주기
날씨 보여주기 - openweathermap api를 이용해서 선택된 위치의 날씨 정보를 받아옵니다. 이때 위치에 따라서 현재 날씨 아이콘이 나타나도록 했습니다.

[시연끝나고]

익숙한 환경으로 시작(ruby on rails)해서 익숙하지 않은 환경으로 프로젝트를 진행했습니다.(backbone)

이후에 개인정보, 날씨, 공휴일, 계절정보에 따른 추천상품이 뜨는 서비스로 개선시킬 수 있습니다.

어떤서비스에 제안을 주는지 (추천서비스로 나중에 확장할 수 있다. + 개인정보,날씨정보,공휴일,계절정보에 따른 추천상품) -> 시연 끝나고 정리해서 말하기



[Q&A]
질문 있으신가요?!

[마무리]
이상 발표를 마치겠습니다. 발표를 들어주셔서 감사합니다.